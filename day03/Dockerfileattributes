Dockerfile Attributes â€“ Explained (Refined Version)
1 - Dockerfile Naming

Docker file name should be Dockerfile (Default standard name).

It is case-sensitive (Capital D recommended).

2 - Dockerfile Structure

It consists of Left-hand side instruction (parameter) and Right-hand side value.

Example:

FROM centos:7

FROM
FROM centos:7


It contains Base Image / Raw Image / Parent Image.

It is a mandatory parameter.

Normally written only once.

For Multi-stage build, it can be repeated.

âœ… Suggestion:
Always use official or minimal base images (like alpine, slim images) to reduce size.

LABEL

It is optional.

Used to pass description or metadata about software / image.

Example:

LABEL version="1.0"
LABEL maintainer="DevOps Team"


âœ… Suggestion:
Use labels for version, owner, build date â€” helpful in enterprise environments.

RUN

Uses:

Used to install software.

Can be used multiple times.

âš  Note:
If RUN parameter is used multiple times â†’
Each RUN command creates a new image layer â†’ increases image size.

âœ… Suggestion (Best Practice):
Combine commands:

RUN yum update -y && yum install -y nginx

ADD

Use:
Used to add data into image filesystem.

Supports:

Local machine files

Internet download (HTTP / FTP)

Notes:

Need to use multiple times for multiple files.

File path should be current path or internet URL.

âœ… Suggestion:
Use ADD only when:

Auto extraction needed

Internet download required

Otherwise prefer COPY.

COPY

Uses:

Only local data can be copied.

Does not support internet download.

Does not support auto decompression.

âš  Correction Added:
ğŸ‘‰ CMD value can be overridden during container creation time.

ğŸ‘‰ If CMD comes after ENTRYPOINT â†’
It works as default argument which can be changed during container creation.

âœ… Suggestion:
Prefer COPY over ADD (More secure & predictable).

ENV

Use:
Used for passing variables inside image.

Example:

ENV APP_ENV=prod


âœ… Suggestion:
Use ENV for config values, app mode, paths etc.

WORKDIR

Use:
Changes working directory inside container.

Example:

WORKDIR /app

EXPOSE

Use:
Helps for documenting container port (Not actual port mapping).

âš  Correction:
It does NOT do dynamic port forwarding.
Actual port mapping happens during:

docker run -p

VOLUME

Use:
Mount external volume automatically if volume not mentioned while running container.

Example:

VOLUME /data

USER

Use:
Used for running container with non-privileged user.

ğŸ‘‰ Application process starts with specified user instead of root (Security reason).

âœ… Suggestion:
Always try to avoid running containers as root in production.

CMD

Use:
Triggers command when container starts.
Used to start service automatically when container is created.

Example:

CMD ["nginx", "-g", "daemon off;"]


âœ… Can be overridden during container run.

ENTRYPOINT

Use:
Defines main command of container.

ğŸ‘‰ Cannot be easily overridden during container creation.
ğŸ‘‰ Only override possible using --entrypoint.

Example:

ENTRYPOINT ["nginx"]

â­ Additional Best Practice Suggestions (Added)

âœ” Use minimal base image
âœ” Reduce RUN layers
âœ” Use .dockerignore file
âœ” Use non-root USER
âœ” Prefer COPY over ADD
âœ” Use multi-stage build for productionr
